<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--?xml version="1.0" ?-->
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ExLamda</title>
<style>.footer{position:fixed;right:0;bottom:0;background-color:white;color:black;text-align:right;}</style>
  </head>
  <body>
<a href="../index.html">Top</a> <a href="t052.html">Prev</a> <a href="t048.html">Next</a> <a href="t049.html">Up</a> <font color="#999999">Down</font> <a href="t050.html">TEST</a> <br>
<hr width="100%" size="2">
    <h1>ExLamda<br>
    </h1>
    <p>Example of the squeeze option (squ) in a Pattern.matches call<br>
    </p>
    <hr width="100%" size="2"> <font color="#999900">001|</font> with
    Ada.Text_IO;<br>
    <font color="#999900">002|</font> with Y2018.Text.Core; use
    Y2018.Text.Core;<br>
    <font color="#999900">003|</font> with Y2018.Text.Core.Str; use
    Y2018.Text.Core.Str;<br>
    <font color="#999900">004|</font> with Y2018.Text.Core.CVarPack; use
    Y2018.Text.Core.CVarPack;<br>
    <font color="#999900">005|</font> with Y2018.Text.Jets; use
    Y2018.Text.Jets; <br>
    <font color="#999900">006|</font> with Y2018.Text.Jets.MatchPack;<br>
    <font color="#999900">007|</font> with Y2018.Text.Jets.PatternPack;<br>
    <font color="#999900">008|</font> --with DSECT;<br>
    <font color="#999900">009|</font> procedure ExLamda is<br>
    <font color="#999900">010|</font>
    __p:PatternPack.Pattern_AC:=PatternPack.compileM("^([\d]+)([\d]+)"c);<br>
    <font color="#999900">011|</font> __m : MatchPack.Match_TY;<br>
    <font color="#999900">012|</font> __line:CFix:="123456789"c;<br>
    <font color="#999900">013|</font> __startPos:Integer:=1;<br>
    <font color="#999900">014|</font> __nextPos:Integer;<br>
    <font color="#999900">015|</font> begin<br>
    <font color="#999900">016|</font> __for <font color="#ff0000">cnt</font>
    in 0..1 loop<br>
    <font color="#999900">017|</font> _____if
    PatternPack.matches(p,startPos,nextPos,line,m,<b><font
        color="#ff0000">cnt</font></b>) then<br>
    <font color="#999900">018|</font> ________declare<br>
    <font color="#999900">019|</font>
    ___________r:I_A_ARRAY:=MatchPack.getMatch(m);<br>
    <font color="#999900">020|</font> ________begin<br>
    <font color="#999900">021|</font> ___________for i in r'first(1) ..
    r'last(1) loop<br>
    <font color="#999900">022|</font>
    ______________Ada.Text_IO.Put_Line(<font color="#ff0000">Integer'image(cnt)</font>
    &amp; " SUCCESS " &amp; subIA(line,r(i)));<br>
    <font color="#999900">023|</font> ___________end loop;<br>
    <font color="#999900">024|</font> ________end;<br>
    <font color="#999900">025|</font> _____else<br>
    <font color="#999900">026|</font> ________Ada.Text_IO.Put_Line(<font
      color="#ff0000">Integer'image(cnt)</font> &amp; " FAIL");<br>
    <font color="#999900">027|</font> _____end if;<br>
    <font color="#999900">028|</font> __end loop;<br>
    <font color="#999900">029|</font> __Ada.Text_IO.Put_Line ("*** End
    of ExLamda ***");<br>
    <font color="#999900">030|</font> end ExLamda;<br>
    <hr width="100%" size="2">
    <h2>Result</h2>
    Running <u>export LD_LIBRARY_PATH=lib;bin/exlamda</u> in TEST
    directory.<br>
    Note the diffrence between cnt=0 and cnt=1.<br>
    <hr width="100%" size="2"> <font color="#999900">001|</font> 0 FAIL<br>
    <font color="#999900">002|</font> 1 SUCCESS 123456789<br>
    <font color="#999900">003|</font> 1 SUCCESS 12345678<br>
    <font color="#999900">004|</font> 1 SUCCESS 9<br>
    <font color="#999900">005|</font> *** End of ExLamda ***<br>
    <hr width="100%" size="2"><br>
    <br>
    <br>
<div class="footer"><small><a rel="license" href="license.html">license</a>Y2018-Text-project 2.5.0 Last change 2023-07-23.</small></div>
  </body>
</html>
