<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--?xml version="1.0" ?-->
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ExNy</title>
<style>.footer{position:fixed;right:0;bottom:0;background-color:white;color:black;text-align:right;}</style>
  </head>
  <body>
<a href="../index.html">Top</a> <a href="t048.html">Prev</a> <a href="t045.html">Next</a> <font color="#999999">Up</font> <font color="#999999">Down</font> <a href="t050.html">TEST</a> <br>
<hr width="100%" size="2">
    <h1>ExNy<br>
    </h1>
    <p>Use of MapPools as character groups in patterns<br>
    </p>
    <hr width="100%" size="2"> <font color="#999900">001|</font> with
    Ada.Text_IO;<br>
    <font color="#999900">002|</font> with Y2018.Text.Core; use
    Y2018.Text.Core;<br>
    <font color="#999900">003|</font> with Y2018.Text.Core.Str; use
    Y2018.Text.Core.Str;<br>
    <font color="#999900">004|</font> with Y2018.Text.Core.CVarPack; use
    Y2018.Text.Core.CVarPack;<br>
    <font color="#999900">005|</font> with Y2018.Text.Jets; use
    Y2018.Text.Jets; <br>
    <font color="#999900">006|</font> with Y2018.Text.Jets.MatchPack;<br>
    <font color="#999900">007|</font> with Y2018.Text.Jets.PatternPack;<br>
    <font color="#999900">008|</font> with
    Y2018.Text.Jets.RangeVectorPack;<br>
    <font color="#999900">009|</font> with Y2018.Text.Util; use
    Y2018.Text.Util;<br>
    <font color="#999900">010|</font> with Y2018.Text.Util.UrvPack;<br>
    <font color="#999900">011|</font> --with DSECT;<br>
    <font color="#999900">012|</font> procedure ExNy is<br>
    <font color="#999900">013|</font>
    __a2fSet:RangeVectorPack.Set_TY.Set:=UrvPack.make_Set("ABCDEF"c);<br>
    <font color="#999900">014|</font>
    __j2qSet:RangeVectorPack.Set_TY.Set:=UrvPack.make_Set("JKLMNOPQ"c);<br>
    <font color="#999900">015|</font>
    __lowerCaseSet:RangeVectorPack.Set_TY.Set:=UrvPack.make_Set("abcdef"c);<br>
    <font color="#999900">016|</font> __mp:UrvPack.MapPool;<br>
    <font color="#999900">017|</font> __p:PatternPack.Pattern_AC:=new
    PatternPack.Pattern;<br>
    <font color="#999900">018|</font> __m : MatchPack.Match_TY;<br>
    <font color="#999900">019|</font> __line:CFix:="J DEF 013 MNO EFJ
    R"c;<br>
    <font color="#999900">020|</font> __lineB:CFix:="Jk Def 013 Mno efj
    R"c;<br>
    <font color="#999900">021|</font> __startPos:Integer:=1;<br>
    <font color="#999900">022|</font> __nextPos:Integer;<br>
    <font color="#999900">023|</font> begin<br>
    <font color="#999900">024|</font> __UrvPack.insert(mp,"Alfa"c);<br>
    <font color="#999900">025|</font>
    __Urvpack.put_Set(mp,"Alfa"c,a2fSet);<br>
    <font color="#999900">026|</font> __UrvPack.insert(mp,"Beta"c);<br>
    <font color="#999900">027|</font>
    __Urvpack.put_Set(mp,"Beta"c,j2qSet);<br>
    <font color="#999900">028|</font> __UrvPack.insert(mp,"Gamma"c);<br>
    <font color="#999900">029|</font>
    __Urvpack.put_Set(mp,"Gamma"c,lowerCaseSet);<br>
    <font color="#999900">030|</font> __<font color="#cc0000">Ada.Text_IO.Put_Line













      ("*** 0:&gt;" &amp; line &amp; "&lt;")</font>;<br>
    <font color="#999900">031|</font>
__PatternPack.compileM(p,"[\P{Alfa}]*([\p{Alfa}\p{Beta}]+)"c,UrvPack.copy_Map(mp));<br>
    <font color="#999900">032|</font> __while
    PatternPack.matches(p,startPos,nextPos,line,m) loop<br>
    <font color="#999900">033|</font> _____declare<br>
    <font color="#999900">034|</font>
    ________r:I_A_ARRAY:=MatchPack.getMatch(m);<br>
    <font color="#999900">035|</font> _____begin<br>
    <font color="#999900">036|</font> ________for i in r'First(1) ..
    r'Last(1) loop<br>
    <font color="#999900">037|</font> ___________Ada.Text_IO.Put_Line(<font
      color="#006600">Integer'Image(i) &amp; "&gt;" &amp;
      subIA(line,r(i)) &amp; "&lt;"</font>);<br>
    <font color="#999900">038|</font> ________end loop;<br>
    <font color="#999900">039|</font> _____end;<br>
    <font color="#999900">040|</font> _____startPos:=nextPos;<br>
    <font color="#999900">041|</font> __end loop;<br>
    <font color="#999900">042|</font> __<font color="#cc0000">Ada.Text_IO.Put_Line













      ("*** 1:&gt;" &amp; lineB &amp; "&lt;")</font>;<br>
    <font color="#999900">043|</font> __startPos:=1;<br>
    <font color="#999900">044|</font>
__PatternPack.compileM(p,"[\P{Alfa}\P{Gamma}]*([\p{Alfa}\p{Gamma}]+)"c,UrvPack.copy_Map(mp));<br>
    <font color="#999900">045|</font> __while
    PatternPack.matches(p,startPos,nextPos,lineB,m) loop<br>
    <font color="#999900">046|</font> _____declare<br>
    <font color="#999900">047|</font>
    ________r:I_A_ARRAY:=MatchPack.getMatch(m);<br>
    <font color="#999900">048|</font> _____begin<br>
    <font color="#999900">049|</font> ________for i in r'First(1) ..
    r'Last(1) loop<br>
    <font color="#999900">050|</font> ___________Ada.Text_IO.Put_Line(<font
      color="#006600">Integer'Image(i) &amp; "&gt;" &amp;
      subIA(lineB,r(i)) &amp; "&lt;"</font>);<br>
    <font color="#999900">051|</font> ________end loop;<br>
    <font color="#999900">052|</font> _____end;<br>
    <font color="#999900">053|</font> _____startPos:=nextPos;<br>
    <font color="#999900">054|</font> __end loop;<br>
    <font color="#999900">055|</font> __<font color="#cc0000">Ada.Text_IO.Put_Line













      ("*** 2:&gt;" &amp; lineB &amp; "&lt;")</font>;<br>
    <font color="#999900">056|</font> __startPos:=1;<br>
    <font color="#999900">057|</font>
__PatternPack.compileM(p,"[\P{Alfa}\P{Gamma}]*([\p{Alfa}e]+)"c,UrvPack.copy_Map(mp));<br>
    <font color="#999900">058|</font> __while
    PatternPack.matches(p,startPos,nextPos,lineB,m) loop<br>
    <font color="#999900">059|</font> _____declare<br>
    <font color="#999900">060|</font>
    ________r:I_A_ARRAY:=MatchPack.getMatch(m);<br>
    <font color="#999900">061|</font> _____begin<br>
    <font color="#999900">062|</font> ________for i in r'First(1) ..
    r'Last(1) loop<br>
    <font color="#999900">063|</font> ___________Ada.Text_IO.Put_Line(<font
      color="#006600">Integer'Image(i) &amp; "&gt;" &amp;
      subIA(lineB,r(i)) &amp; "&lt;"</font>);<br>
    <font color="#999900">064|</font> ________end loop;<br>
    <font color="#999900">065|</font> _____end;<br>
    <font color="#999900">066|</font> _____startPos:=nextPos;<br>
    <font color="#999900">067|</font> __end loop;<br>
    <font color="#999900">068|</font> __Ada.Text_IO.Put_Line ("*** End
    of ExNy ***");<br>
    <font color="#999900">069|</font> end ExNy;<br>
    <hr width="100%" size="2">
    <h2>Result</h2>
    Running <u>export LD_LIBRARY_PATH=lib;bin/exny</u> in TEST
    directory.<br>
    Three different cases<br>
    <hr width="100%" size="2"> <font color="#999900">001|</font> <font
      color="#cc0000">*** 0:&gt;J DEF 013 MNO EFJ R&lt;</font><br>
    <font color="#999900">002|</font> 0&gt;J DEF&lt;<br>
    <font color="#999900">003|</font> 1&gt;DEF&lt;<br>
    <font color="#999900">004|</font> 0&gt; 013 MNO EFJ&lt;<br>
    <font color="#999900">005|</font> 1&gt;EFJ&lt;<br>
    <font color="#999900">006|</font> <font color="#cc0000">***
      1:&gt;Jk Def 013 Mno efj R&lt;</font><br>
    <font color="#999900">007|</font> 0&gt;Jk Def&lt;<br>
    <font color="#999900">008|</font> 1&gt;Def&lt;<br>
    <font color="#999900">009|</font> 0&gt; 013 Mno ef&lt;<br>
    <font color="#999900">010|</font> 1&gt;ef&lt;<br>
    <font color="#999900">011|</font> <font color="#cc0000">***
      2:&gt;Jk Def 013 Mno efj R&lt;</font><br>
    <font color="#999900">012|</font> 0&gt;Jk De&lt;<br>
    <font color="#999900">013|</font> 1&gt;De&lt;<br>
    <font color="#999900">014|</font> 0&gt; 013 Mno e&lt;<br>
    <font color="#999900">015|</font> 1&gt;e&lt;<br>
    <font color="#999900">016|</font> *** End of ExNy ***<br>
    <hr width="100%" size="2"><br>
<div class="footer"><small><a rel="license" href="license.html">license</a>Y2018-Text-project 2.5.0 Last change 2023-11-29.</small></div>
  </body>
</html>
